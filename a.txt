==================================WEEK 1========================================================

âœ… Week 1â€“2 Goal: Build a RESTful API for E-commerce
We'll cover:

âœ… Project structure

âœ… CRUD APIs (User, Product, Order)

âœ… MongoDB and MySQL integration

âœ… Environment variables

âœ… Postman testing
---------------------------------
npm install express mongoose mysql2 dotenv cors

-----------------------------------
Test in Postman

POST /api/users â†’ Create user
GET /api/users â†’ Get all users

Same for products and orders.
----------------------------------
Week 1 Output

You now have:

MongoDB integrated backend with structured APIs.
CRUD routes working for User, Product, Order.
MySQL pool configured for future use.



==================================WEEK 2========================================================


Letâ€™s now move on to âœ… Week 2: Authentication & Authorization â€” a critical module for any backend developer.

ğŸ¯ Week 2 Goal

Implement secure login & registration system with:

Password hashing (bcrypt)
JWT access tokens
Role-based access (admin, user)
Protected routes

âœ… Tech Stack Used
Feature	            Library
Password Hashing	bcryptjs
Token Auth	        jsonwebtoken
Middleware	        Express

------------------------------------
npm install bcryptjs jsonwebtoken

-----------------------------------
Test in Postman
Action	        Method	    Endpoint	         Body Example
Register	    POST	    /api/auth/register	 { "name": "Krishna", "email": "k@k.com", "password": "123456", "role": "admin" }
Login	        POST	    /api/auth/login	     { "email": "k@k.com", "password": "123456" }
Protected API	GET/POST	Use token as Bearer in Header                -

--------------------------------
âœ… Week 2 Output
You now have:

ğŸ” Secure login and registration
ğŸ”‘ JWT token-based auth
ğŸ›¡ Role-based access (Admin-only routes)
ğŸ§ª Ready for protected API endpoints
----------------------------------

âœ… 1. Postman Collection (Auth + Product API)

ğŸ§ª How to Test in Postman
ğŸ“Œ Step 1: Register User
Method: POST

URL: http://localhost:5000/api/auth/register

Body (JSON):

{
  "name": "Krishna",
  "email": "krishna@example.com",
  "password": "123456",
  "role": "admin"
}

ğŸ“Œ Step 2: Login
Method: POST

URL: http://localhost:5000/api/auth/login

Body (JSON):

{
  "email": "krishna@example.com",
  "password": "123456"
}

âœ… Copy the token from the response (e.g. "token": "eyJhbGciOi...")

ğŸ“Œ Step 3: Add Token in Authorization

Click "Authorization" tab
Type: Bearer Token
Paste the token from login response

ğŸ“Œ Step 4: Create Product (Admin Only)

Method: POST

URL: http://localhost:5000/api/products

Body (JSON):

{
  "name": "iPhone 15",
  "price": 999,
  "category": "Mobile"
}

ğŸ“Œ Step 5: Get All Products

Method: GET

URL: http://localhost:5000/api/products

---------------------------------------------------
âœ… 2. Save Token in Frontend (localStorage)

âœ… After successful login, use this in React/JS:

// When login is successful:
localStorage.setItem("token", response.data.token);

// To use later:
const token = localStorage.getItem("token");
------
Then send in header when calling APIs:


axios.get("http://localhost:5000/api/products", {
  headers: {
    Authorization: `Bearer ${token}`,
  }
});
--------------------------------

A simple frontend login form to test this?

âœ… Takes email and password
âœ… Calls your /api/auth/login API
âœ… Saves the token in localStorage
âœ… Logs the user info and token


âœ… How to Use

Save this as login.html
Open it in your browser
Enter the login email and password

After successful login:

You'll see â€œâœ… Login successful!â€
Token is saved in localStorage

âœ… Check Saved Token
Open DevTools â†’ Application â†’ Local Storage â†’ token will be visible there
-----------------------------


========================================WEEK 3=========================

âœ… Week 3: API Security & Validation â€” very important to protect your app from hackers and invalid data.

ğŸ¯ Week 3 Goal

âœ… Validate inputs (using express-validator)
âœ… Secure headers (using helmet)
âœ… Limit requests (Rate Limiting)
âœ… Handle CORS properly
âœ… Prevent NoSQL/SQL Injection
-------------------------
npm install express-validator helmet express-rate-limit cors

---------------------------
ğŸ” Step 5: Prevent NoSQL Injection
If you're using req.body, req.query, or req.params directly, sanitize inputs using express-validator.

You can also install a special sanitization middleware (optional):

npm install express-mongo-sanitize


In app.js:

const mongoSanitize = require("express-mongo-sanitize");
app.use(mongoSanitize());

This removes $, {}, etc. from queries to avoid injection.
----------------------------
Step 6: Test in Postman

Try these:

Case	                       Expected Result
Register with empty fields	 âŒ Shows validation errors
Login with invalid email	   âŒ Shows "Invalid email"
Send many requests quickly	 âŒ "Too many requests"
Check headers in response	   âœ… Helmet is adding security headers
------------------------------

âœ… Week 3 Summary
Feature          	Library
Input Validation	express-validator
Secure Headers	  helmet
CORS Handling	    cors
Rate Limiting	    express-rate-limit
Injection Protection	express-mongo-sanitize (optional)
-------------------------------

Sample Postman Error Cases

These will test your validation, rate limit, and security:

âŒ 1. Register Without Name

POST http://localhost:5000/api/auth/register

{
  "email": "test@mail.com",
  "password": "123456"
}

ğŸ“¢ Expected:

{
  "errors": [
    { "msg": "Name is required", ... }
  ]
}

âŒ 2. Login With Invalid Email

POST http://localhost:5000/api/auth/login

{
  "email": "not-an-email",
  "password": "123456"
}

ğŸ“¢ Expected:

{
  "errors": [
    { "msg": "Invalid email", ... }
  ]
}

âŒ 3. Trigger Rate Limit (100+ requests in 15 min)
Send any request (like GET /api/products) over 100 times quickly.

ğŸ“¢ Expected:

{
  "message": "Too many requests, please try again later."
}

ğŸ“¦ MongoDB Injection Demo
MongoDB injection is when someone sends a query like:

{
  "email": { "$gt": "" },
  "password": "123456"
}

This tries to bypass login using a MongoDB query operator.

âŒ Dangerous Payload (Simulated Hacker Input)
POST http://localhost:5000/api/auth/login


{
  "email": { "$gt": "" },
  "password": "123456"
}

ğŸ§¨ Without protection, it may return a user or crash the server.

âœ… How to Block It
If you're using this in app.js:


const mongoSanitize = require("express-mongo-sanitize");
app.use(mongoSanitize());

ğŸ“¢ Now the same payload becomes safe and gives:

{
  "message": "User not found"
}

âœ… Summary
Test	              What It Proves
Missing name	      Input validation
Invalid email	      Email format check
Too many requests	  Rate limiting
MongoDB injection	  Security patching

=================================================WEEK 4=========================================

âœ… Week 4: Error Handling & Logging â€” essential for debugging, monitoring, and maintaining your backend app.

ğŸ¯ Week 4 Goal

âœ… Centralized error handling (middleware)
âœ… Custom error messages
âœ… Logging with Winston
âœ… Request logs with Morgan

--------------------------------------
npm install winston morgan

--------------------------------------
Step 3: Centralized Error Handler

ğŸ“ middlewares/error.middleware.js

const logger = require("../utils/logger");

const errorHandler = (err, req, res, next) => {
  logger.error(`${req.method} ${req.url} - ${err.message}`);

  res.status(err.statusCode || 500).json({
    message: err.message || "Internal Server Error",
  });
};

module.exports = errorHandler;
-------------
ğŸ§± Step 4: Custom Error Example
Anywhere (e.g. in a controller):


if (!user) {
  const error = new Error("User not found");
  error.statusCode = 404;
  return next(error); // Pass to error handler
}
------------
ğŸ“’ Step 5: Use Morgan for HTTP Logs
In app.js:

const morgan = require("morgan");

// Log HTTP requests
app.use(morgan("dev")); // Or use 'combined' for more details

ğŸ“ This prints:

GET /api/products 200 15ms
POST /api/auth/login 401 10ms
-----------

ğŸ§© Step 6: Connect Error Middleware
At the bottom of app.js, after routes:

const errorHandler = require("./middlewares/error.middleware");

// ...all routes above

app.use(errorHandler);

------------------------
Test Example (In Postman)

Call /api/products/123456 where ID doesnâ€™t exist.

Expected:

{
  "message": "Product not found"
}

And logs/error.log will contain:

[2025-06-21T09:42:10.123Z] error: GET /api/products/123456 - Product not found

--------------------------------
âœ…  Week 4 Summary
Feature	          Tool
Error handling	  Custom middleware
Logging	          Winston
Request logging  	Morgan
Log files	        logs/error.log, logs/combined.log

ğŸ’¡ Tip: Later you can send error logs to email or Slack using Winston transports.
---------------------------------
ğŸ“Š Chart: Winston Log File System

ğŸ“ File	            ğŸ” Purpose	                    ğŸ“Œ Logs Included	                                            ğŸ“¦ Created When
logs/combined.log	  âœ… All logs (info, error, etc.)	GET /api/products - success, POST /api/auth/login - failed	   Every time app logs info
logs/error.log	    âŒ Only error logs	              User not found, DB connection failed, Internal server error	   Only when errors occur
Console (terminal)	ğŸ‘€ Real-time view	               Everything visible in dev	                                    Immediately, always
-----------------------------
ğŸ” Example Logs

âœ… In logs/combined.log

[2025-06-21T12:01:05.231Z] info: User Krishna registered
[2025-06-21T12:01:07.511Z] error: GET /api/products/999 - Product not found

âŒ In logs/error.log

[2025-06-21T12:01:07.511Z] error: GET /api/products/999 - Product not found
------------------------------
ğŸ“ Log Directory Structure

ecommerce-api/
â”œâ”€â”€ logs/
â”‚   â”œâ”€â”€ error.log       â† âŒ Only errors
â”‚   â””â”€â”€ combined.log    â† âœ… All logs

âœ… Tip for You
Later, you can:

ğŸ“¤ Send logs to email, Slack, or cloud (like Loggly, ELK)
ğŸ§¹ Use tools to rotate/delete old logs

==================================================WEEK 5======================================================

âœ… Week 5: Testing (Unit + Integration) â€” this makes sure your API works correctly, safely, and is ready for production.

ğŸ¯ Week 5 Goal

âœ… Unit testing with Jest
âœ… Integration testing with Supertest
âœ… Automate API tests
âœ… Optional: Run Postman Collection Tests

âœ… Tools Weâ€™ll Use
Tool	          Use
jest	          Test runner
supertest	      Test Express APIs
Postman	        Manual & Collection testing
----------------------------------------
npm install --save-dev jest supertest

------------------------------------------
Step 5: Run Tests

npm test

Output:

PASS  __tests__/auth.test.js
âœ“ should register a new user
âœ“ should login with correct credentials
----------------------------------------
Step 6: Optional â€“ Test with Postman Collection
Open Postman

Create tests under Tests tab:

pm.test("Status is 200", function () {
    pm.response.to.have.status(200);
});

Run collection in Collection Runner
--------------------------------------

âœ… Week 5 Summary
Task	           Tools
Unit Tests	     Jest
API Integration	 Supertest
Manual Testing	 Postman
Automation	     Postman Runner
---------------------------RATE LIMIT-----------------------

Trigger Rate Limit (100+ requests in 15 min)  //IF WITHIN 15 MINUTES 100+ REQUEST SEND THEN ERROR WILL BE SHOW
Send any request (like GET /api/products) over 100 times quickly.

ğŸ“¢ Expected:

{
  "message": "Too many requests, please try again later."
}
----------------------------MORGAN-------------------------
 Step 5: Use Morgan for HTTP Logs
In app.js:

const morgan = require("morgan");

// Log HTTP requests
app.use(morgan("dev")); // Or use 'combined' for more details

ğŸ“ This prints:

GET /api/products 200 15ms
POST /api/auth/login 401 10ms
==================================WEEK 6======================================

ğŸ¯ Week 6 Goal

âœ… Deploy backend server online
âœ… Manage your Node.js app using PM2
âœ… Reverse proxy using Nginx
âœ… Optional: Deploy easily using Render
âœ… Optional: Setup in AWS EC2 (basic)

Render	â­ Easy	Beginners (free & quick)






